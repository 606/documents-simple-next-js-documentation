---
title: API Design
description: Principles, patterns, and practices for designing effective APIs.
keywords: ["api design", "resource modeling", "url design", "openapi", "error handling", "pagination"]
---

import { Note } from "@/components/markdown/note"

# API Design

<Note>
This page is migrated from your Obsidian note `api/api-design/index.md` and adjusted for MDX syntax.
</Note>

## Overview

API design encompasses the principles, patterns, and practices for creating effective, maintainable, and scalable APIs.

## Design Principles

### API-First Development
- Design APIs before implementation
- Use contracts and specifications to guide development
- Focus on consumer needs and use cases

### Consistency
- Uniform naming conventions
- Consistent error handling
- Standardised HTTP status codes

### Simplicity
- Keep interfaces simple and intuitive
- Avoid over-engineering
- Reveal complexity progressively

### Extensibility
- Design for future changes
- Plan versioning strategies
- Aim for backward compatibility when possible

## Resource Modeling

### Identify Resources
- Nouns representing domain entities
- Clear relationships and hierarchies
- Consider resource lifecycle

### Resource Representations
- JSON as the primary format
- Consistent field naming (e.g. `camelCase`)
- Include metadata such as timestamps and links

### Hypermedia
- Apply HATEOAS principles when appropriate
- Provide self-describing responses
- Include navigation links in resource representations

## URL Design

### RESTful URL Patterns

```text
/api/v1/users              # Collection
/api/v1/users/{id}         # Individual resource
/api/v1/users/{id}/posts   # Sub-resources
/api/v1/posts?user=123     # Filtering
/api/v1/posts?page=2       # Pagination
```

### Best Practices
- Use lowercase letters
- Use hyphens for multi-word resource names
- Avoid using query parameters for primary resource identification
- Keep URLs readable and predictable

## HTTP Methods & Status Codes

### Method Selection
- **GET** for safe read operations
- **POST** for creating resources
- **PUT** for full resource updates
- **PATCH** for partial updates
- **DELETE** for resource removal

### Status Code Guidelines
- `200` for successful GET/PUT/PATCH
- `201` for successful POST (resource created)
- `204` for successful DELETE (no content)
- `400` for client errors (bad request)
- `401` for authentication required
- `403` for authorization failures
- `404` for resource not found
- `422` for validation errors
- `500` for server errors

## OpenAPI Specification

### Example

```yaml
openapi: 3.0.3
info:
  title: User API
  version: 1.0.0
paths:
  /users:
    get:
      summary: Get all users
      responses:
        '200':
          description: Successful response
```

### Benefits
- Machine-readable documentation
- Code and client generation
- Automated testing and contract validation

## Versioning Strategies

- URL versioning: `/v1/users`, `/v2/users`
- Header versioning: `Accept: application/vnd.api.v1+json`
- Query parameter versioning: `/users?version=1`
- Media type versioning: `Content-Type: application/vnd.company.user.v2+json`

## Error Handling

### Standard Error Shape

```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid user data",
    "details": [
      {
        "field": "email",
        "message": "Invalid email format"
      }
    ]
  }
}
```

### Guidelines
- Use consistent error codes
- Provide clear, user-focused messages
- Include enough context for debugging without leaking internals

## Pagination, Filtering, and Sorting

### Pagination
- Offset-based pagination for simple use cases
- Cursor-based pagination for large datasets or real-time feeds

### Filtering & Sorting

```text
/users?status=active&sort=name&order=asc
```

- Support common operators: `eq`, `ne`, `gt`, `lt`, `in`

## Rate Limiting

### Example Headers

```text
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
```

### Strategies
- Fixed or sliding windows
- Token bucket or leaky bucket algorithms

## Deeper Topics

The Obsidian note links to dedicated pages for:

- Resource modeling
- URL design patterns

You can import those later into `resource-modeling` and `url-design` subpages as needed.
